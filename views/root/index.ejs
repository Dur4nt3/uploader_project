<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/reset.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="icon" type="image/png" href="/media/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/media/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/media/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/media/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Uploader" />
    <link rel="manifest" href="/media/favicon/site.webmanifest" />
    <title>Home</title>
</head>
<body>
    <header class="home-header">
        <h1><%= locals.authenticated === true ? "Home" : "Uploader" %></h1>
        <h2>
            <% if (locals.authenticated === true) { %>
                <p class="session-info">
                    <span>Logged in as:&nbsp;</span>
                    <span class="session-user"><%= locals.username %></span>
                </p>
            <% } else { %>
                A simple website to store images
            <% } %>
        </h2>
    </header>

    <main class="home-main">
        <% if (locals.authenticated) { %>

            <% if (locals.folders === null || locals.folders.length === 0) { %>

                <div class="no-folders-notice">
                    <div class="folder-icon-cont">
                        <img src="/media/icons/create-folder-blue.svg">
                    </div>
                    
                    <h2 class="notice-heading">No folders yet!</h2>
                    <p class="notice-subtext">
                        Create your first folder to start hosting and sharing your files.
                    </p>

                    <div class="action-links-cont">
                        <a href="/create-folder" class="create-folder-link">
                            <img src="/media/icons/create-folder-white.svg">
                            New folder
                        </a>
                    </div>
                </div>

            <% } else { %>

                <div class="all-folders-cont">
                    <%- include("../partials/folder-container.ejs", { folders: locals.folders }) %>
                </div>

            <% } %>

        <% } else { %>
            <div class="login-notice">
                <div class="folder-icon-cont">
                    <img src="/media/icons/folder-blue.svg">
                </div>
                <h2 class="notice-heading">Host, view, and share your images</h2>
                <p class="notice-subtext">
                    Uploader is a lightweight image hosting app that lets you create folders, upload images, and access them from anywhere.
                </p>

                <div class="action-links-cont">
                    <a href="/signup" class="signup-link">
                        <img src="/media/icons/create-account.svg">
                        Signup
                    </a>

                    <a href="/login" class="login-link">
                        <img src="/media/icons/login.svg">
                        Login
                    </a>
                </div>
            </div>
        <% } %>
    </main>

    <footer>
        <div class="footer-links-cont">
            <% if (locals.authenticated === true) { %>
                <a href="/logout">
                    <img src="/media/icons/logout.svg" alt="logout">
                </a>

                <a href="/create-folder">
                    <img src="/media/icons/create-folder-white.svg" alt="create a folder">
                </a>

                <a href="/help">
                    <img src="/media/icons/help.svg" alt="help page">
                </a>
            <% } else { %>
                <a href="/help">
                    <img src="/media/icons/help.svg" alt="help page">
                </a>
            <% } %>
        </div>
    </footer>
</body>
</html>